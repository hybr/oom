-- =====================================================================
-- JOB OFFER WORKFLOW
-- Generate and negotiate job offers with candidates
-- Generated: 2025-11-10
-- =====================================================================

PRAGMA foreign_keys = ON;

INSERT OR IGNORE INTO process_graph (
    id, code, name, description, entity_id, version_number,
    is_active, is_published, category, created_at
) VALUES (
    'JOFR0000-WRFL-4111-W111-000000000001',
    'JOB_OFFER_WORKFLOW',
    'Job Offer Generation & Negotiation',
    'Create, approve, and manage job offer letters',
    'j1o1b1o1-f111-4f11-e111-r111o111f111',  -- JOB_OFFER entity
    1, 1, 1, 'HR_RECRUITMENT', datetime('now')
);

-- Nodes
INSERT OR IGNORE INTO process_node (id, graph_id, node_code, node_name, node_type, description, position_id, permission_type_id, sla_hours, display_x, display_y, created_at) VALUES
('JOFR0001-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'START', 'Start', 'START', 'Candidate selected', NULL, NULL, NULL, 100, 100, datetime('now')),
('JOFR0002-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'DRAFT_OFFER', 'Draft Offer Letter', 'TASK', 'Prepare offer document', NULL, NULL, 24, 200, 100, datetime('now')),
('JOFR0003-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'HR_REVIEW', 'HR Review', 'TASK', 'HR reviews offer terms', NULL, NULL, 24, 300, 100, datetime('now')),
('JOFR0004-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'HIRING_MANAGER_APPROVE', 'Hiring Manager Approval', 'TASK', 'Department head approves', NULL, NULL, 48, 400, 100, datetime('now')),
('JOFR0005-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'FINANCE_APPROVE', 'Finance Approval', 'TASK', 'Budget verification', NULL, NULL, 24, 500, 100, datetime('now')),
('JOFR0006-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'SEND_OFFER', 'Send Offer to Candidate', 'TASK', 'Email offer letter', NULL, NULL, 4, 600, 100, datetime('now')),
('JOFR0007-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'AWAIT_RESPONSE', 'Await Candidate Response', 'TASK', 'Wait for acceptance/rejection', NULL, NULL, 168, 700, 100, datetime('now')),
('JOFR0008-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'NEGOTIATE', 'Negotiate Terms', 'TASK', 'Handle counter-offers', NULL, NULL, 72, 700, 200, datetime('now')),
('JOFR0009-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'OFFER_ACCEPTED', 'Offer Accepted', 'TASK', 'Process acceptance', NULL, NULL, 4, 800, 100, datetime('now')),
('JOFR0010-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'OFFER_REJECTED', 'Offer Rejected', 'TASK', 'Handle rejection', NULL, NULL, 4, 800, 200, datetime('now')),
('JOFR0011-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'PREPARE_CONTRACT', 'Prepare Employment Contract', 'TASK', 'Generate contract document', NULL, NULL, 24, 900, 100, datetime('now')),
('JOFR0012-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'END', 'End', 'END', 'Offer process complete', NULL, NULL, NULL, 1000, 150, datetime('now'));

-- Edges
INSERT OR IGNORE INTO process_edge (id, graph_id, from_node_id, to_node_id, edge_label, edge_order, completion_action, created_at) VALUES
('JOFRE001-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0001-WRFL-4111-W111-000000000001', 'JOFR0002-WRFL-4111-W111-000000000001', 'Begin', 1, NULL, datetime('now')),
('JOFRE002-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0002-WRFL-4111-W111-000000000001', 'JOFR0003-WRFL-4111-W111-000000000001', 'Drafted', 1, 'COMPLETE', datetime('now')),
('JOFRE003-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0003-WRFL-4111-W111-000000000001', 'JOFR0004-WRFL-4111-W111-000000000001', 'Approved', 1, 'APPROVE', datetime('now')),
('JOFRE004-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0003-WRFL-4111-W111-000000000001', 'JOFR0002-WRFL-4111-W111-000000000001', 'Revise', 2, 'REQUEST_CHANGE', datetime('now')),
('JOFRE005-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0004-WRFL-4111-W111-000000000001', 'JOFR0005-WRFL-4111-W111-000000000001', 'Approved', 1, 'APPROVE', datetime('now')),
('JOFRE006-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0004-WRFL-4111-W111-000000000001', 'JOFR0002-WRFL-4111-W111-000000000001', 'Revise', 2, 'REQUEST_CHANGE', datetime('now')),
('JOFRE007-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0005-WRFL-4111-W111-000000000001', 'JOFR0006-WRFL-4111-W111-000000000001', 'Approved', 1, 'APPROVE', datetime('now')),
('JOFRE008-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0005-WRFL-4111-W111-000000000001', 'JOFR0002-WRFL-4111-W111-000000000001', 'Revise', 2, 'REQUEST_CHANGE', datetime('now')),
('JOFRE009-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0006-WRFL-4111-W111-000000000001', 'JOFR0007-WRFL-4111-W111-000000000001', 'Sent', 1, 'COMPLETE', datetime('now')),
('JOFRE010-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0007-WRFL-4111-W111-000000000001', 'JOFR0009-WRFL-4111-W111-000000000001', 'Accepted', 1, 'APPROVE', datetime('now')),
('JOFRE011-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0007-WRFL-4111-W111-000000000001', 'JOFR0010-WRFL-4111-W111-000000000001', 'Rejected', 2, 'REJECT', datetime('now')),
('JOFRE012-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0007-WRFL-4111-W111-000000000001', 'JOFR0008-WRFL-4111-W111-000000000001', 'Counter Offer', 3, 'REQUEST_CHANGE', datetime('now')),
('JOFRE013-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0008-WRFL-4111-W111-000000000001', 'JOFR0002-WRFL-4111-W111-000000000001', 'Revised', 1, 'COMPLETE', datetime('now')),
('JOFRE014-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0009-WRFL-4111-W111-000000000001', 'JOFR0011-WRFL-4111-W111-000000000001', 'Proceed', 1, 'COMPLETE', datetime('now')),
('JOFRE015-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0010-WRFL-4111-W111-000000000001', 'JOFR0012-WRFL-4111-W111-000000000001', 'Close', 1, 'COMPLETE', datetime('now')),
('JOFRE016-WRFL-4111-W111-000000000001', 'JOFR0000-WRFL-4111-W111-000000000001', 'JOFR0011-WRFL-4111-W111-000000000001', 'JOFR0012-WRFL-4111-W111-000000000001', 'Contract Ready', 1, 'COMPLETE', datetime('now'));
