-- =====================================================================
-- TRAINING REQUEST WORKFLOW
-- Employee training request and approval process
-- Generated: 2025-11-10
-- =====================================================================

PRAGMA foreign_keys = ON;

INSERT OR IGNORE INTO process_graph (
    id, code, name, description, entity_id, version_number,
    is_active, is_published, category, created_at
) VALUES (
    'TRNR0000-WRFL-4111-W111-000000000001',
    'TRAINING_REQUEST_WORKFLOW',
    'Training Request & Approval',
    'Request, approve, and track employee training programs',
    't1r1a1i1-n1r1-4q1s-t111-111111111111',  -- TRAINING_REQUEST entity
    1, 1, 1, 'HR_TRAINING_DEVELOPMENT', datetime('now')
);

-- Nodes
INSERT OR IGNORE INTO process_node (id, graph_id, node_code, node_name, node_type, description, position_id, permission_type_id, sla_hours, display_x, display_y, created_at) VALUES
('TRNR0001-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'START', 'Start', 'START', 'Training request initiated', NULL, NULL, NULL, 100, 100, datetime('now')),
('TRNR0002-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'SUBMIT_REQUEST', 'Submit Training Request', 'TASK', 'Employee submits request', NULL, NULL, 4, 200, 100, datetime('now')),
('TRNR0003-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'MANAGER_REVIEW', 'Manager Review', 'TASK', 'Manager reviews justification', NULL, NULL, 48, 300, 100, datetime('now')),
('TRNR0004-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'HR_REVIEW', 'HR Review', 'TASK', 'HR validates training need', NULL, NULL, 48, 400, 100, datetime('now')),
('TRNR0005-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'BUDGET_APPROVAL', 'Budget Approval', 'TASK', 'Finance approves budget', NULL, NULL, 72, 500, 100, datetime('now')),
('TRNR0006-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRAINING_BOND', 'Training Bond Agreement', 'TASK', 'Sign bond if required', NULL, NULL, 48, 600, 100, datetime('now')),
('TRNR0007-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'ENROLL_TRAINING', 'Enroll in Training', 'TASK', 'Complete enrollment', NULL, NULL, 72, 700, 100, datetime('now')),
('TRNR0008-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'ATTEND_TRAINING', 'Attend Training', 'TASK', 'Complete training program', NULL, NULL, 720, 800, 100, datetime('now')),
('TRNR0009-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'SUBMIT_CERTIFICATE', 'Submit Completion Certificate', 'TASK', 'Upload certificate', NULL, NULL, 24, 900, 100, datetime('now')),
('TRNR0010-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'VERIFY_COMPLETION', 'Verify Completion', 'TASK', 'HR verifies certificate', NULL, NULL, 48, 1000, 100, datetime('now')),
('TRNR0011-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'REJECTED', 'Training Rejected', 'TASK', 'Send rejection notification', NULL, NULL, 4, 400, 200, datetime('now')),
('TRNR0012-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'END', 'End', 'END', 'Training process complete', NULL, NULL, NULL, 1100, 150, datetime('now'));

-- Edges
INSERT OR IGNORE INTO process_edge (id, graph_id, from_node_id, to_node_id, edge_label, edge_order, completion_action, created_at) VALUES
('TRNRE001-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRNR0001-WRFL-4111-W111-000000000001', 'TRNR0002-WRFL-4111-W111-000000000001', 'Begin', 1, NULL, datetime('now')),
('TRNRE002-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRNR0002-WRFL-4111-W111-000000000001', 'TRNR0003-WRFL-4111-W111-000000000001', 'Submitted', 1, 'COMPLETE', datetime('now')),
('TRNRE003-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRNR0003-WRFL-4111-W111-000000000001', 'TRNR0004-WRFL-4111-W111-000000000001', 'Approved', 1, 'APPROVE', datetime('now')),
('TRNRE004-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRNR0003-WRFL-4111-W111-000000000001', 'TRNR0011-WRFL-4111-W111-000000000001', 'Rejected', 2, 'REJECT', datetime('now')),
('TRNRE005-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRNR0004-WRFL-4111-W111-000000000001', 'TRNR0005-WRFL-4111-W111-000000000001', 'Approved', 1, 'APPROVE', datetime('now')),
('TRNRE006-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRNR0004-WRFL-4111-W111-000000000001', 'TRNR0011-WRFL-4111-W111-000000000001', 'Rejected', 2, 'REJECT', datetime('now')),
('TRNRE007-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRNR0005-WRFL-4111-W111-000000000001', 'TRNR0006-WRFL-4111-W111-000000000001', 'Budget Approved', 1, 'APPROVE', datetime('now')),
('TRNRE008-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRNR0005-WRFL-4111-W111-000000000001', 'TRNR0011-WRFL-4111-W111-000000000001', 'Budget Rejected', 2, 'REJECT', datetime('now')),
('TRNRE009-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRNR0006-WRFL-4111-W111-000000000001', 'TRNR0007-WRFL-4111-W111-000000000001', 'Bond Signed', 1, 'COMPLETE', datetime('now')),
('TRNRE010-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRNR0007-WRFL-4111-W111-000000000001', 'TRNR0008-WRFL-4111-W111-000000000001', 'Enrolled', 1, 'COMPLETE', datetime('now')),
('TRNRE011-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRNR0008-WRFL-4111-W111-000000000001', 'TRNR0009-WRFL-4111-W111-000000000001', 'Training Complete', 1, 'COMPLETE', datetime('now')),
('TRNRE012-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRNR0009-WRFL-4111-W111-000000000001', 'TRNR0010-WRFL-4111-W111-000000000001', 'Certificate Submitted', 1, 'COMPLETE', datetime('now')),
('TRNRE013-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRNR0010-WRFL-4111-W111-000000000001', 'TRNR0012-WRFL-4111-W111-000000000001', 'Verified', 1, 'COMPLETE', datetime('now')),
('TRNRE014-WRFL-4111-W111-000000000001', 'TRNR0000-WRFL-4111-W111-000000000001', 'TRNR0011-WRFL-4111-W111-000000000001', 'TRNR0012-WRFL-4111-W111-000000000001', 'Notified', 1, 'COMPLETE', datetime('now'));
