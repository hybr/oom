-- =====================================================================
-- APPLICATION SCREENING & SHORTLISTING WORKFLOW
-- Screen and shortlist job applications
-- Generated: 2025-11-10
-- =====================================================================

PRAGMA foreign_keys = ON;

INSERT OR IGNORE INTO process_graph (
    id, code, name, description, entity_id, version_number,
    is_active, is_published, category, created_at
) VALUES (
    'APSC0000-SCRN-4111-W111-000000000001',
    'APPLICATION_SCREENING_WORKFLOW',
    'Application Screening & Shortlisting',
    'Screen job applications and create shortlist for interviews',
    'v1a1c1a1-p1p1-4l1c-t111-111111111111',  -- VACANCY_APPLICATION entity
    1, 1, 1, 'HR_RECRUITMENT', datetime('now')
);

-- Nodes
INSERT OR IGNORE INTO process_node (id, graph_id, node_code, node_name, node_type, description, position_id, permission_type_id, sla_hours, display_x, display_y, created_at) VALUES
('APSC0001-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'START', 'Start', 'START', 'Application received', NULL, NULL, NULL, 100, 100, datetime('now')),
('APSC0002-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'AUTO_SCREEN', 'Automated Screening', 'TASK', 'Check minimum qualifications', NULL, NULL, 2, 200, 100, datetime('now')),
('APSC0003-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'HR_REVIEW', 'HR Initial Review', 'TASK', 'HR reviews application', NULL, NULL, 48, 300, 100, datetime('now')),
('APSC0004-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'SKILL_ASSESSMENT', 'Skills Assessment', 'TASK', 'Technical/skill evaluation', NULL, NULL, 72, 400, 100, datetime('now')),
('APSC0005-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'HIRING_MANAGER_REVIEW', 'Hiring Manager Review', 'TASK', 'Department head reviews', NULL, NULL, 48, 500, 100, datetime('now')),
('APSC0006-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'CREATE_SHORTLIST', 'Create Shortlist', 'TASK', 'Finalize interview shortlist', NULL, NULL, 24, 600, 100, datetime('now')),
('APSC0007-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'NOTIFY_CANDIDATE', 'Notify Candidate', 'TASK', 'Send shortlist notification', NULL, NULL, 4, 700, 100, datetime('now')),
('APSC0008-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'REJECTED', 'Application Rejected', 'TASK', 'Send rejection notification', NULL, NULL, 4, 300, 200, datetime('now')),
('APSC0009-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'END', 'End', 'END', 'Screening complete', NULL, NULL, NULL, 800, 100, datetime('now'));

-- Edges
INSERT OR IGNORE INTO process_edge (id, graph_id, from_node_id, to_node_id, edge_label, edge_order, completion_action, created_at) VALUES
('APSCE001-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'APSC0001-SCRN-4111-W111-000000000001', 'APSC0002-SCRN-4111-W111-000000000001', 'Begin', 1, NULL, datetime('now')),
('APSCE002-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'APSC0002-SCRN-4111-W111-000000000001', 'APSC0003-SCRN-4111-W111-000000000001', 'Meets Criteria', 1, 'APPROVE', datetime('now')),
('APSCE003-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'APSC0002-SCRN-4111-W111-000000000001', 'APSC0008-SCRN-4111-W111-000000000001', 'Does Not Qualify', 2, 'REJECT', datetime('now')),
('APSCE004-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'APSC0003-SCRN-4111-W111-000000000001', 'APSC0004-SCRN-4111-W111-000000000001', 'Approved', 1, 'APPROVE', datetime('now')),
('APSCE005-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'APSC0003-SCRN-4111-W111-000000000001', 'APSC0008-SCRN-4111-W111-000000000001', 'Rejected', 2, 'REJECT', datetime('now')),
('APSCE006-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'APSC0004-SCRN-4111-W111-000000000001', 'APSC0005-SCRN-4111-W111-000000000001', 'Passed', 1, 'APPROVE', datetime('now')),
('APSCE007-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'APSC0004-SCRN-4111-W111-000000000001', 'APSC0008-SCRN-4111-W111-000000000001', 'Failed', 2, 'REJECT', datetime('now')),
('APSCE008-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'APSC0005-SCRN-4111-W111-000000000001', 'APSC0006-SCRN-4111-W111-000000000001', 'Shortlisted', 1, 'APPROVE', datetime('now')),
('APSCE009-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'APSC0005-SCRN-4111-W111-000000000001', 'APSC0008-SCRN-4111-W111-000000000001', 'Not Selected', 2, 'REJECT', datetime('now')),
('APSCE010-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'APSC0006-SCRN-4111-W111-000000000001', 'APSC0007-SCRN-4111-W111-000000000001', 'List Created', 1, 'COMPLETE', datetime('now')),
('APSCE011-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'APSC0007-SCRN-4111-W111-000000000001', 'APSC0009-SCRN-4111-W111-000000000001', 'Notified', 1, 'COMPLETE', datetime('now')),
('APSCE012-SCRN-4111-W111-000000000001', 'APSC0000-SCRN-4111-W111-000000000001', 'APSC0008-SCRN-4111-W111-000000000001', 'APSC0009-SCRN-4111-W111-000000000001', 'Rejection Sent', 1, 'COMPLETE', datetime('now'));
