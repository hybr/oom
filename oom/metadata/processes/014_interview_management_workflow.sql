-- =====================================================================
-- INTERVIEW MANAGEMENT WORKFLOW
-- Schedule and manage candidate interviews
-- Generated: 2025-11-10
-- =====================================================================

PRAGMA foreign_keys = ON;

INSERT OR IGNORE INTO process_graph (
    id, code, name, description, entity_id, version_number,
    is_active, is_published, category, created_at
) VALUES (
    'INTV0000-MGMT-4111-W111-000000000001',
    'INTERVIEW_MANAGEMENT_WORKFLOW',
    'Interview Scheduling & Management',
    'Schedule interviews, collect feedback, and make hiring decisions',
    'a1i1n1t1-e111-4r11-v111-i111e111w111',  -- APPLICATION_INTERVIEW entity
    1, 1, 1, 'HR_RECRUITMENT', datetime('now')
);

-- Nodes
INSERT OR IGNORE INTO process_node (id, graph_id, node_code, node_name, node_type, description, position_id, permission_type_id, sla_hours, display_x, display_y, created_at) VALUES
('INTV0001-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'START', 'Start', 'START', 'Candidate shortlisted', NULL, NULL, NULL, 100, 100, datetime('now')),
('INTV0002-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'CHECK_AVAILABILITY', 'Check Availability', 'TASK', 'Check candidate & interviewer slots', NULL, NULL, 24, 200, 100, datetime('now')),
('INTV0003-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'SCHEDULE_INTERVIEW', 'Schedule Interview', 'TASK', 'Book interview slot', NULL, NULL, 12, 300, 100, datetime('now')),
('INTV0004-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'SEND_INVITATION', 'Send Invitation', 'TASK', 'Email interview details', NULL, NULL, 2, 400, 100, datetime('now')),
('INTV0005-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'CONFIRM_ATTENDANCE', 'Confirm Attendance', 'TASK', 'Get candidate confirmation', NULL, NULL, 48, 500, 100, datetime('now')),
('INTV0006-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'CONDUCT_INTERVIEW', 'Conduct Interview', 'TASK', 'Interview session', NULL, NULL, 4, 600, 100, datetime('now')),
('INTV0007-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'COLLECT_FEEDBACK', 'Collect Feedback', 'TASK', 'Interviewer feedback', NULL, NULL, 24, 700, 100, datetime('now')),
('INTV0008-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'EVALUATE_CANDIDATE', 'Evaluate Candidate', 'TASK', 'Hiring decision', NULL, NULL, 48, 800, 100, datetime('now')),
('INTV0009-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'SCHEDULE_NEXT_ROUND', 'Schedule Next Round', 'TASK', 'Setup next interview round', NULL, NULL, 24, 900, 50, datetime('now')),
('INTV0010-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'RESCHEDULE', 'Reschedule Interview', 'TASK', 'Reschedule if needed', NULL, NULL, 12, 500, 200, datetime('now')),
('INTV0011-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'NOTIFY_RESULT', 'Notify Result', 'TASK', 'Inform candidate of outcome', NULL, NULL, 24, 900, 150, datetime('now')),
('INTV0012-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'END', 'End', 'END', 'Interview process complete', NULL, NULL, NULL, 1000, 100, datetime('now'));

-- Edges
INSERT OR IGNORE INTO process_edge (id, graph_id, from_node_id, to_node_id, edge_label, edge_order, completion_action, created_at) VALUES
('INTVE001-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'INTV0001-MGMT-4111-W111-000000000001', 'INTV0002-MGMT-4111-W111-000000000001', 'Begin', 1, NULL, datetime('now')),
('INTVE002-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'INTV0002-MGMT-4111-W111-000000000001', 'INTV0003-MGMT-4111-W111-000000000001', 'Available', 1, 'COMPLETE', datetime('now')),
('INTVE003-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'INTV0003-MGMT-4111-W111-000000000001', 'INTV0004-MGMT-4111-W111-000000000001', 'Scheduled', 1, 'COMPLETE', datetime('now')),
('INTVE004-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'INTV0004-MGMT-4111-W111-000000000001', 'INTV0005-MGMT-4111-W111-000000000001', 'Sent', 1, 'COMPLETE', datetime('now')),
('INTVE005-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'INTV0005-MGMT-4111-W111-000000000001', 'INTV0006-MGMT-4111-W111-000000000001', 'Confirmed', 1, 'APPROVE', datetime('now')),
('INTVE006-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'INTV0005-MGMT-4111-W111-000000000001', 'INTV0010-MGMT-4111-W111-000000000001', 'Needs Reschedule', 2, 'REQUEST_CHANGE', datetime('now')),
('INTVE007-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'INTV0010-MGMT-4111-W111-000000000001', 'INTV0003-MGMT-4111-W111-000000000001', 'Rescheduled', 1, 'COMPLETE', datetime('now')),
('INTVE008-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'INTV0006-MGMT-4111-W111-000000000001', 'INTV0007-MGMT-4111-W111-000000000001', 'Completed', 1, 'COMPLETE', datetime('now')),
('INTVE009-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'INTV0007-MGMT-4111-W111-000000000001', 'INTV0008-MGMT-4111-W111-000000000001', 'Feedback Received', 1, 'COMPLETE', datetime('now')),
('INTVE010-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'INTV0008-MGMT-4111-W111-000000000001', 'INTV0009-MGMT-4111-W111-000000000001', 'Next Round', 1, 'APPROVE', datetime('now')),
('INTVE011-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'INTV0008-MGMT-4111-W111-000000000001', 'INTV0011-MGMT-4111-W111-000000000001', 'Final Decision', 2, 'COMPLETE', datetime('now')),
('INTVE012-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'INTV0009-MGMT-4111-W111-000000000001', 'INTV0002-MGMT-4111-W111-000000000001', 'Continue', 1, 'COMPLETE', datetime('now')),
('INTVE013-MGMT-4111-W111-000000000001', 'INTV0000-MGMT-4111-W111-000000000001', 'INTV0011-MGMT-4111-W111-000000000001', 'INTV0012-MGMT-4111-W111-000000000001', 'Notified', 1, 'COMPLETE', datetime('now'));
