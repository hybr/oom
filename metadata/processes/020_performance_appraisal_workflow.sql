-- =====================================================================
-- PERFORMANCE APPRAISAL WORKFLOW
-- Annual/periodic employee performance review process
-- Generated: 2025-11-10
-- =====================================================================

PRAGMA foreign_keys = ON;

INSERT OR IGNORE INTO process_graph (
    id, code, name, description, entity_id, version_number,
    is_active, is_published, category, created_at
) VALUES (
    'PRFA0000-WRFL-4111-W111-000000000001',
    'PERFORMANCE_APPRAISAL_WORKFLOW',
    'Performance Appraisal Process',
    'Annual performance review with self-assessment and manager evaluation',
    'p1e1r1f1-a1p1-4p1r-l111-111111111111',  -- PERFORMANCE_APPRAISAL entity
    1, 1, 1, 'HR_EMPLOYEE_MANAGEMENT', datetime('now')
);

-- Nodes
INSERT OR IGNORE INTO process_node (id, graph_id, node_code, node_name, node_type, description, position_id, permission_type_id, sla_hours, display_x, display_y, created_at) VALUES
('PRFA0001-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'START', 'Start', 'START', 'Appraisal cycle begins', NULL, NULL, NULL, 100, 100, datetime('now')),
('PRFA0002-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'CREATE_APPRAISAL', 'Create Appraisal Form', 'TASK', 'Generate appraisal forms', NULL, NULL, 24, 200, 100, datetime('now')),
('PRFA0003-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'NOTIFY_EMPLOYEE', 'Notify Employee', 'TASK', 'Inform about appraisal', NULL, NULL, 4, 300, 100, datetime('now')),
('PRFA0004-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'SELF_ASSESSMENT', 'Employee Self-Assessment', 'TASK', 'Employee completes self-review', NULL, NULL, 168, 400, 100, datetime('now')),
('PRFA0005-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'MANAGER_REVIEW', 'Manager Review', 'TASK', 'Manager rates performance', NULL, NULL, 168, 500, 100, datetime('now')),
('PRFA0006-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'NORMALIZATION', 'HR Normalization', 'TASK', 'Normalize ratings across org', NULL, NULL, 72, 600, 100, datetime('now')),
('PRFA0007-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'SET_INCREMENT', 'Set Salary Increment', 'TASK', 'Determine increment %', NULL, NULL, 48, 700, 100, datetime('now')),
('PRFA0008-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'PROMOTION_REVIEW', 'Promotion Review', 'TASK', 'Review promotion eligibility', NULL, NULL, 48, 800, 100, datetime('now')),
('PRFA0009-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'SET_GOALS', 'Set Goals for Next Period', 'TASK', 'Define next period goals', NULL, NULL, 48, 900, 100, datetime('now')),
('PRFA0010-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'FINALIZE_APPRAISAL', 'Finalize Appraisal', 'TASK', 'Lock appraisal record', NULL, NULL, 24, 1000, 100, datetime('now')),
('PRFA0011-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'SHARE_WITH_EMPLOYEE', 'Share with Employee', 'TASK', 'Conduct appraisal meeting', NULL, NULL, 48, 1100, 100, datetime('now')),
('PRFA0012-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'EMPLOYEE_ACKNOWLEDGMENT', 'Employee Acknowledgment', 'TASK', 'Employee signs off', NULL, NULL, 72, 1200, 100, datetime('now')),
('PRFA0013-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'END', 'End', 'END', 'Appraisal complete', NULL, NULL, NULL, 1300, 100, datetime('now'));

-- Edges
INSERT OR IGNORE INTO process_edge (id, graph_id, from_node_id, to_node_id, edge_label, edge_order, completion_action, created_at) VALUES
('PRFAE001-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'PRFA0001-WRFL-4111-W111-000000000001', 'PRFA0002-WRFL-4111-W111-000000000001', 'Begin', 1, NULL, datetime('now')),
('PRFAE002-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'PRFA0002-WRFL-4111-W111-000000000001', 'PRFA0003-WRFL-4111-W111-000000000001', 'Forms Created', 1, 'COMPLETE', datetime('now')),
('PRFAE003-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'PRFA0003-WRFL-4111-W111-000000000001', 'PRFA0004-WRFL-4111-W111-000000000001', 'Notified', 1, 'COMPLETE', datetime('now')),
('PRFAE004-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'PRFA0004-WRFL-4111-W111-000000000001', 'PRFA0005-WRFL-4111-W111-000000000001', 'Self-Assessment Done', 1, 'COMPLETE', datetime('now')),
('PRFAE005-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'PRFA0005-WRFL-4111-W111-000000000001', 'PRFA0006-WRFL-4111-W111-000000000001', 'Manager Review Done', 1, 'COMPLETE', datetime('now')),
('PRFAE006-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'PRFA0006-WRFL-4111-W111-000000000001', 'PRFA0007-WRFL-4111-W111-000000000001', 'Normalized', 1, 'COMPLETE', datetime('now')),
('PRFAE007-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'PRFA0007-WRFL-4111-W111-000000000001', 'PRFA0008-WRFL-4111-W111-000000000001', 'Increment Set', 1, 'COMPLETE', datetime('now')),
('PRFAE008-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'PRFA0008-WRFL-4111-W111-000000000001', 'PRFA0009-WRFL-4111-W111-000000000001', 'Promotion Reviewed', 1, 'COMPLETE', datetime('now')),
('PRFAE009-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'PRFA0009-WRFL-4111-W111-000000000001', 'PRFA0010-WRFL-4111-W111-000000000001', 'Goals Set', 1, 'COMPLETE', datetime('now')),
('PRFAE010-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'PRFA0010-WRFL-4111-W111-000000000001', 'PRFA0011-WRFL-4111-W111-000000000001', 'Finalized', 1, 'COMPLETE', datetime('now')),
('PRFAE011-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'PRFA0011-WRFL-4111-W111-000000000001', 'PRFA0012-WRFL-4111-W111-000000000001', 'Shared', 1, 'COMPLETE', datetime('now')),
('PRFAE012-WRFL-4111-W111-000000000001', 'PRFA0000-WRFL-4111-W111-000000000001', 'PRFA0012-WRFL-4111-W111-000000000001', 'PRFA0013-WRFL-4111-W111-000000000001', 'Acknowledged', 1, 'COMPLETE', datetime('now'));
